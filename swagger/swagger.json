{"swagger":"2.0","info":{"title":"Sao","description":"Exposes CMS platform entry and score resources","version":"1.0"},"host":"localhost:8080","basePath":"/sao/v1","schemes":["http"],"consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/entries/":{"get":{"tags":["entry"],"summary":"show entry","description":"List all the ranked entries without their sources.","operationId":"entry#show","produces":["application/vnd.com.jossemargt.sao.entry+json; type=collection","application/vnd.goa.error"],"parameters":[{"name":"page","in":"query","description":"Page number","required":false,"type":"integer","default":1,"minimum":1},{"name":"page_size","in":"query","description":"Item amount per page","required":false,"type":"integer","default":20,"minimum":5}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ComJossemargtSaoEntryCollection"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]},"post":{"tags":["entry"],"summary":"create entry","description":"Create a new entry","operationId":"entry#create","produces":["application/vnd.com.jossemargt.sao.entry+json","application/vnd.goa.error"],"parameters":[{"name":"payload","in":"body","description":"Any source code or input that should be compiled, executed or evaluated","required":true,"schema":{"$ref":"#/definitions/EntryPayload"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/ComJossemargtSaoEntryFull"},"headers":{"Location":{"description":"href to created entry","type":"string","pattern":"/entries/\\w{2}-\\d+"}}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/entries/{entryID}":{"get":{"tags":["entry"],"summary":"get entry","description":"Returns all the entry metadata (without the sources) for the given ID","operationId":"entry#get","produces":["application/vnd.com.jossemargt.sao.entry+json","application/vnd.goa.error"],"parameters":[{"name":"entryID","in":"path","description":"Result ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ComJossemargtSaoEntryFull"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"401":{"description":"Unauthorized","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"/results/":{"get":{"tags":["result"],"summary":"show result","description":"List all the results delimited by the query params","operationId":"result#show","produces":["application/vnd.com.jossemargt.sao.result+json; type=collection","application/vnd.goa.error"],"parameters":[{"name":"contest","in":"query","description":"Contest ID","required":false,"type":"integer"},{"name":"entry","in":"query","description":"Entry ID","required":false,"type":"integer"},{"name":"page","in":"query","description":"Page number","required":false,"type":"integer","default":1,"minimum":1},{"name":"page_size","in":"query","description":"Item amount per page","required":false,"type":"integer","default":20,"minimum":5},{"name":"ranked","in":"query","required":false,"type":"string","default":"true","enum":["true","false"]},{"name":"sort","in":"query","required":false,"type":"string","default":"desc","enum":["asc","desc"]},{"name":"task","in":"query","description":"Task ID","required":false,"type":"integer"},{"name":"user","in":"query","description":"User ID","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ComJossemargtSaoResultCollection"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/results/{resultID}":{"get":{"tags":["result"],"summary":"get result","description":"Returns an specific result with the given entry and testcase ID","operationId":"result#get","produces":["application/vnd.com.jossemargt.sao.result+json","application/vnd.goa.error"],"parameters":[{"name":"resultID","in":"path","description":"Result ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ComJossemargtSaoResultFull"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"/scores/":{"get":{"tags":["scores"],"summary":"show scores","description":"List all the scores delimited by the query params","operationId":"scores#show","produces":["application/vnd.com.jossemargt.sao.score+json; type=collection","application/vnd.goa.error"],"parameters":[{"name":"contest","in":"query","description":"Contest ID","required":false,"type":"integer"},{"name":"entry","in":"query","description":"Entry ID","required":false,"type":"integer"},{"name":"page","in":"query","description":"Page number","required":false,"type":"integer","default":1,"minimum":1},{"name":"page_size","in":"query","description":"Item amount per page","required":false,"type":"integer","default":20,"minimum":5},{"name":"sort","in":"query","required":false,"type":"string","default":"desc","enum":["asc","desc"]},{"name":"task","in":"query","description":"Task ID","required":false,"type":"integer"},{"name":"user","in":"query","description":"User ID","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ComJossemargtSaoScoreCollection"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}}},"schemes":["http"]}},"/scores/{scoreID}":{"get":{"tags":["scores"],"summary":"get scores","description":"Returns an specific score with the given entry and testcase ID","operationId":"scores#get","produces":["application/vnd.com.jossemargt.sao.score+json","application/vnd.goa.error"],"parameters":[{"name":"scoreID","in":"path","description":"Score ID","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ComJossemargtSaoScoreFull"}},"400":{"description":"Bad Request","schema":{"$ref":"#/definitions/error"}},"404":{"description":"Not Found"}},"schemes":["http"]}}},"definitions":{"ComJossemargtSaoEntry":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.entry+json; view=default","type":"object","properties":{"contestSlug":{"type":"string","description":"Contest unique and human readble string identifier","example":"con_test","pattern":"[_a-zA-Z0-9\\-]+"},"href":{"type":"string","description":"API href for making requests on the entry","example":"/entries/re-1236"},"id":{"type":"string","description":"Unique entry ID","example":"re-1236"},"ranked":{"type":"boolean","description":"Indenties if the entry should be ranked or taken as an user test","default":true,"example":true},"taskSlug":{"type":"string","description":"Task unique and human readble string identifier","example":"simpleBatch-95","pattern":"[_a-zA-Z0-9\\-]+"}},"description":"Any source code or input to be compiled, executed and evaluated (default view)","example":{"contestSlug":"con_test","href":"/entries/re-1236","id":"re-1236","ranked":true,"taskSlug":"simpleBatch-95"},"required":["id","href"]},"ComJossemargtSaoEntryCollection":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.entry+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/ComJossemargtSaoEntry"},"description":"ComJossemargtSaoEntryCollection is the media type for an array of ComJossemargtSaoEntry (default view)","example":[{"contestSlug":"con_test","href":"/entries/re-1236","id":"re-1236","ranked":true,"taskSlug":"simpleBatch-95"}]},"ComJossemargtSaoEntryFull":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.entry+json; view=full","type":"object","properties":{"contestSlug":{"type":"string","description":"Contest unique and human readble string identifier","example":"con_test","pattern":"[_a-zA-Z0-9\\-]+"},"href":{"type":"string","description":"API href for making requests on the entry","example":"/entries/re-1236"},"id":{"type":"string","description":"Unique entry ID","example":"re-1236"},"links":{"$ref":"#/definitions/ComJossemargtSaoEntryLinks"},"ranked":{"type":"boolean","description":"Indenties if the entry should be ranked or taken as an user test","default":true,"example":true},"taskSlug":{"type":"string","description":"Task unique and human readble string identifier","example":"simpleBatch-95","pattern":"[_a-zA-Z0-9\\-]+"}},"description":"Any source code or input to be compiled, executed and evaluated (full view)","example":{"contestSlug":"con_test","href":"/entries/re-1236","id":"re-1236","links":{"result":{"href":"/results/ut-1236-5689","id":"ut-1236-5689"},"score":{"href":"/scores/1236-5689","id":"1236-5689"}},"ranked":true,"taskSlug":"simpleBatch-95"},"required":["id","href"]},"ComJossemargtSaoEntryLinks":{"title":"ComJossemargtSaoEntryLinks","type":"object","properties":{"result":{"$ref":"#/definitions/ComJossemargtSaoResultLink"},"score":{"$ref":"#/definitions/ComJossemargtSaoScoreLink"}},"description":"ComJossemargtSaoEntryLinks contains links to related resources of ComJossemargtSaoEntry.","example":{"result":{"href":"/results/ut-1236-5689","id":"ut-1236-5689"},"score":{"href":"/scores/1236-5689","id":"1236-5689"}}},"ComJossemargtSaoResult":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.result+json; view=default","type":"object","properties":{"evaluation":{"$ref":"#/definitions/EvaluationResult"},"href":{"type":"string","description":"API href for making requests on the result","example":"/results/ut-1236-5689"},"id":{"type":"string","description":"Unique result ID","example":"ut-1236-5689"}},"description":"The representation of the result of an entry compile, execute or evaluation process (default view)","example":{"evaluation":{"status":"ok","tries":0},"href":"/results/ut-1236-5689","id":"ut-1236-5689"},"required":["id","href","evaluation"]},"ComJossemargtSaoResultCollection":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.result+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/ComJossemargtSaoResult"},"description":"ComJossemargtSaoResultCollection is the media type for an array of ComJossemargtSaoResult (default view)","example":[{"evaluation":{"status":"ok","tries":0},"href":"/results/ut-1236-5689","id":"ut-1236-5689"},{"evaluation":{"status":"ok","tries":0},"href":"/results/ut-1236-5689","id":"ut-1236-5689"}]},"ComJossemargtSaoResultFull":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.result+json; view=full","type":"object","properties":{"compilation":{"$ref":"#/definitions/CompilationResult"},"evaluation":{"$ref":"#/definitions/EvaluationResult"},"execution":{"type":"array","items":{"$ref":"#/definitions/ExecutionResult"},"description":"Entry execution result","example":[{"memory":64,"status":"ok","time":0.035,"wallClockTime":0.568},{"memory":64,"status":"ok","time":0.035,"wallClockTime":0.568}]},"href":{"type":"string","description":"API href for making requests on the result","example":"/results/ut-1236-5689"},"id":{"type":"string","description":"Unique result ID","example":"ut-1236-5689"},"links":{"$ref":"#/definitions/ComJossemargtSaoResultLinks"}},"description":"The representation of the result of an entry compile, execute or evaluation process (full view)","example":{"compilation":{"memory":64,"status":"ok","stderr":"Quae accusamus id deserunt.","stdout":"Voluptates dignissimos consequuntur.","time":0.035,"tries":2,"wallClockTime":0.568},"evaluation":{"status":"ok","tries":0},"execution":[{"memory":64,"status":"ok","time":0.035,"wallClockTime":0.568},{"memory":64,"status":"ok","time":0.035,"wallClockTime":0.568}],"href":"/results/ut-1236-5689","id":"ut-1236-5689","links":{"score":{"href":"/scores/1236-5689","id":"1236-5689"}}},"required":["id","href","evaluation"]},"ComJossemargtSaoResultLink":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.result+json; view=link","type":"object","properties":{"href":{"type":"string","description":"API href for making requests on the result","example":"/results/ut-1236-5689"},"id":{"type":"string","description":"Unique result ID","example":"ut-1236-5689"}},"description":"The representation of the result of an entry compile, execute or evaluation process (link view)","example":{"href":"/results/ut-1236-5689","id":"ut-1236-5689"},"required":["id","href"]},"ComJossemargtSaoResultLinks":{"title":"ComJossemargtSaoResultLinks","type":"object","properties":{"score":{"$ref":"#/definitions/ComJossemargtSaoScoreLink"}},"description":"ComJossemargtSaoResultLinks contains links to related resources of ComJossemargtSaoResult.","example":{"score":{"href":"/scores/1236-5689","id":"1236-5689"}}},"ComJossemargtSaoScore":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.score+json; view=default","type":"object","properties":{"href":{"type":"string","description":"API href for making requests on the score","example":"/scores/1236-5689"},"id":{"type":"string","description":"Unique score ID","example":"1236-5689"},"value":{"type":"number","description":"An official graded score with a token","example":10.5,"format":"double"}},"description":"The representation of the entry's scoring after being evaluated (default view)","example":{"href":"/scores/1236-5689","id":"1236-5689","value":10.5}},"ComJossemargtSaoScoreCollection":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.score+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/ComJossemargtSaoScore"},"description":"ComJossemargtSaoScoreCollection is the media type for an array of ComJossemargtSaoScore (default view)","example":[{"href":"/scores/1236-5689","id":"1236-5689","value":10.5},{"href":"/scores/1236-5689","id":"1236-5689","value":10.5}]},"ComJossemargtSaoScoreFull":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.score+json; view=full","type":"object","properties":{"href":{"type":"string","description":"API href for making requests on the score","example":"/scores/1236-5689"},"id":{"type":"string","description":"Unique score ID","example":"1236-5689"},"untokenedValue":{"type":"number","description":"An un-official graded score","example":20,"format":"double"},"value":{"type":"number","description":"An official graded score with a token","example":10.5,"format":"double"}},"description":"The representation of the entry's scoring after being evaluated (full view)","example":{"href":"/scores/1236-5689","id":"1236-5689","untokenedValue":20,"value":10.5}},"ComJossemargtSaoScoreLink":{"title":"Mediatype identifier: application/vnd.com.jossemargt.sao.score+json; view=link","type":"object","properties":{"href":{"type":"string","description":"API href for making requests on the score","example":"/scores/1236-5689"},"id":{"type":"string","description":"Unique score ID","example":"1236-5689"}},"description":"The representation of the entry's scoring after being evaluated (link view)","example":{"href":"/scores/1236-5689","id":"1236-5689"}},"CompilationResult":{"title":"CompilationResult","type":"object","properties":{"memory":{"type":"integer","description":"Memory consumed","example":64,"format":"int64"},"status":{"type":"string","description":"Execution result status","default":"unprocessed","example":"ok","enum":["ok","fail","unprocessed"]},"stderr":{"type":"string","description":"Compilation process' standard error","example":"Quae accusamus id deserunt."},"stdout":{"type":"string","description":"Compilation process' standard output","example":"Voluptates dignissimos consequuntur."},"time":{"type":"number","description":"The spent execution CPU time","example":0.035,"format":"double"},"tries":{"type":"integer","description":"Compilation retries","example":2,"minimum":0},"wallClockTime":{"type":"number","description":"The spent execution human perceived time","example":0.568,"format":"double"}},"description":"Embedded reprensentation of an entry compilation result","example":{"memory":64,"status":"ok","stderr":"Quae accusamus id deserunt.","stdout":"Voluptates dignissimos consequuntur.","time":0.035,"tries":2,"wallClockTime":0.568}},"EntryPayload":{"title":"EntryPayload","type":"object","properties":{"contestSlug":{"type":"string","description":"Contest unique and human readble string identifier","example":"con_test","pattern":"[_a-zA-Z0-9\\-]+"},"ranked":{"type":"boolean","description":"Indenties if the entry should be ranked or taken as an user test","default":true,"example":false},"sources":{"type":"array","items":{"$ref":"#/definitions/EntrySource"},"description":"Source files representation","example":[{"content":"Architecto nostrum.","encoding":"Dolor magnam sed est iusto.","language":"Python 3","name":"my_solution.py"},{"content":"Architecto nostrum.","encoding":"Dolor magnam sed est iusto.","language":"Python 3","name":"my_solution.py"},{"content":"Architecto nostrum.","encoding":"Dolor magnam sed est iusto.","language":"Python 3","name":"my_solution.py"}],"minItems":1},"taskSlug":{"type":"string","description":"Task unique and human readble string identifier","example":"simpleBatch-95","pattern":"[_a-zA-Z0-9\\-]+"}},"description":"Any source code or input that should be compiled, executed or evaluated","example":{"contestSlug":"con_test","ranked":false,"sources":[{"content":"Architecto nostrum.","encoding":"Dolor magnam sed est iusto.","language":"Python 3","name":"my_solution.py"},{"content":"Architecto nostrum.","encoding":"Dolor magnam sed est iusto.","language":"Python 3","name":"my_solution.py"},{"content":"Architecto nostrum.","encoding":"Dolor magnam sed est iusto.","language":"Python 3","name":"my_solution.py"}],"taskSlug":"simpleBatch-95"},"required":["contestSlug","taskSlug","ranked","sources"]},"EntrySource":{"title":"EntrySource","type":"object","properties":{"content":{"type":"string","description":"Source content","example":"Architecto nostrum."},"encoding":{"type":"string","description":"Source content's encoding","default":"utf8","example":"Dolor magnam sed est iusto."},"language":{"type":"string","description":"Source programming languague or none when using plain text","example":"Python 3"},"name":{"type":"string","description":"Source file name including its extension","example":"my_solution.py"}},"description":"Entry's embed type which represents a source file","example":{"content":"Architecto nostrum.","encoding":"Dolor magnam sed est iusto.","language":"Python 3","name":"my_solution.py"}},"EvaluationResult":{"title":"EvaluationResult","type":"object","properties":{"status":{"type":"string","description":"Execution result status","default":"unprocessed","example":"ok","enum":["ok","unprocessed"]},"tries":{"type":"integer","description":"Evaluation retries","example":0,"minimum":0}},"description":"Embedded reprensentation of an entry evaluation result","example":{"status":"ok","tries":0}},"ExecutionResult":{"title":"ExecutionResult","type":"object","properties":{"memory":{"type":"integer","description":"Memory consumed","example":64,"format":"int64"},"status":{"type":"string","description":"Execution result status","example":"ok"},"time":{"type":"number","description":"The spent execution CPU time","example":0.035,"format":"double"},"wallClockTime":{"type":"number","description":"The spent execution human perceived time","example":0.568,"format":"double"}},"description":"Embedded reprensentation of an entry execution result","example":{"memory":64,"status":"ok","time":0.035,"wallClockTime":0.568}},"error":{"title":"Mediatype identifier: application/vnd.goa.error; view=default","type":"object","properties":{"code":{"type":"string","description":"an application-specific error code, expressed as a string value.","example":"invalid_value"},"detail":{"type":"string","description":"a human-readable explanation specific to this occurrence of the problem.","example":"Value of ID must be an integer"},"id":{"type":"string","description":"a unique identifier for this particular occurrence of the problem.","example":"3F1FKVRR"},"meta":{"type":"object","description":"a meta object containing non-standard meta-information about the error.","example":{"timestamp":1458609066},"additionalProperties":true},"status":{"type":"string","description":"the HTTP status code applicable to this problem, expressed as a string value.","example":"400"}},"description":"Error response media type (default view)","example":{"code":"invalid_value","detail":"Value of ID must be an integer","id":"3F1FKVRR","meta":{"timestamp":1458609066},"status":"400"}}},"responses":{"NotFound":{"description":"Not Found"}}}